<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Web编程期末大作业 - qkgoalkeeper&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="description" content="Web编程期末大作业 姓名：钱堃 学号：10185501412 年级：大三 @TOC 一.项目要求 •基于第一个项目爬虫爬取的数据，完成数据展示网站。 •基本要">
  
  <meta itemprop="name" content="Web编程期末大作业 - qkgoalkeeper&#39;s blog">
  <meta itemprop="description" content="Web编程期末大作业 姓名：钱堃 学号：10185501412 年级：大三 @TOC 一.项目要求 •基于第一个项目爬虫爬取的数据，完成数据展示网站。 •基本要">
  <meta itemprop="image" content="https://qkgoalkeeper.github.io/img/author.jpg">
  
  
  <meta name="twitter:description" content="">
  
  <link rel="shortcut icon" href="https://qkgoalkeeper.github.io/img/favicon.ico"/>
  <link rel="apple-touch-icon" href="https://qkgoalkeeper.github.io/apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="https://qkgoalkeeper.github.io/apple-touch-icon.png" />
  <link rel="stylesheet" href="https://qkgoalkeeper.github.io/highlight/styles/github.css">
  <script src="https://qkgoalkeeper.github.io/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  <link rel="stylesheet" href="https://qkgoalkeeper.github.io/font/hack/css/hack.min.css">
  <link rel="stylesheet" href="https://qkgoalkeeper.github.io/css/style.css">
  
  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-175507250-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-175507250-1');
</script>
  

</head>

<body>
  <header>
    <div>
  <div id="imglogo">
    <a href="https://qkgoalkeeper.github.io/"><img src='https://qkgoalkeeper.github.io/img/logo.svg' alt="qkgoalkeeper&#39;s blog" title="qkgoalkeeper&#39;s blog"/></a>
  </div>
  <div id="textlogo">
    <h1 class="site-name"><a href="https://qkgoalkeeper.github.io/" title="qkgoalkeeper&#39;s blog">qkgoalkeeper&#39;s blog</a></h1>
    <h2 class="blog-motto">ECNU数据学院本科在读</h2>
  </div>
  <div class="navbar"><a class="navbutton navmobile" href="#" title="menu"></a></div>
  <nav class="animated">
    <ul>
      
      
      <li><a href="/">首页</a></li>
      
      <li><a href="/about">关于</a></li>
      
      
      <li>
        <form class="search" method="get" action="https://www.google.com/search">
          <div>
            <input type="text" id="search" name="q" placeholder='Search'>
          </div>
        </form>
      </li>
    </ul>
  </nav>
</div>

  </header>
  <div id="container">
    <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody">
    <header class="article-info clearfix">
  <h1 itemprop="name">
      <a href="https://qkgoalkeeper.github.io/post/web%E7%BC%96%E7%A8%8B%E6%9C%9F%E6%9C%AB%E5%A4%A7%E4%BD%9C%E4%B8%9A/" title="Web编程期末大作业" itemprop="url">Web编程期末大作业</a>
  </h1>
  <p class="article-author">By
    
      <a href="https://qkgoalkeeper.github.io/" title="qk">qk</a>
    
  </p>
  <p class="article-time">
    <time datetime="2021-06-26 00:27:15 &#43;0800 CST" itemprop="datePublished">2021年06月26日</time>
  </p>
</header>

	<div class="article-content">
    
		<div class="toc-article">
			<strong class="toc-title">文章目录</strong>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#一项目要求">一.项目要求</a></li>
    <li><a href="#二基本要求实现">二.基本要求实现</a>
      <ul>
        <li><a href="#0准备工作">0.准备工作</a></li>
        <li><a href="#1用户可注册登录网站非注册用户不可登录查看数据">1、用户可注册登录网站，非注册用户不可登录查看数据</a></li>
        <li><a href="#2用户注册登录查询等操作记入数据库中的日志">2、用户注册、登录、查询等操作记入数据库中的日志</a></li>
        <li><a href="#3爬虫数据查询结果列表支持分页和排序">3、爬虫数据查询结果列表支持分页和排序</a></li>
        <li><a href="#4用echarts或者d3实现3个以上的数据分析图表展示在网站中">4、用Echarts或者D3实现3个以上的数据分析图表展示在网站中</a></li>
        <li><a href="#5实现一个管理端界面可以查看查看用户的操作记录和管理停用启用注册用户">5、实现一个管理端界面，可以查看（查看用户的操作记录）和管理（停用启用）注册用户。</a></li>
      </ul>
    </li>
    <li><a href="#三扩展要求的实现">三.扩展要求的实现</a>
      <ul>
        <li><a href="#0elastickibanalogstash的安装及介绍">0.elastic+kibana+logstash的安装及介绍</a></li>
        <li><a href="#1实现对爬虫数据中文分词的查询">1、实现对爬虫数据中文分词的查询</a></li>
        <li><a href="#2实现查询结果按照主题词打分的排序">2、实现查询结果按照主题词打分的排序</a></li>
        <li><a href="#3用elastic-searchkibana展示爬虫的数据结果">3、用Elastic Search+Kibana展示爬虫的数据结果</a></li>
      </ul>
    </li>
    <li><a href="#四-js美化">四. js美化</a>
      <ul>
        <li><a href="#1点击屏幕显示文字">1.点击屏幕显示文字</a></li>
        <li><a href="#2博客动态背景效果">2.博客动态背景效果</a></li>
      </ul>
    </li>
    <li><a href="#五运行展示">五.运行展示</a></li>
    <li><a href="#六总结">六.总结</a></li>
  </ul>
</nav>
		</div>
    
    <h1 id="web编程期末大作业">Web编程期末大作业</h1>
<p><strong>姓名：钱堃</strong></p>
<p><strong>学号：10185501412</strong></p>
<p><strong>年级：大三</strong></p>
<p>@<a href="%E7%9B%AE%E5%BD%95">TOC</a></p>
<h2 id="一项目要求">一.项目要求</h2>
<p>•基于第一个项目爬虫爬取的数据，完成数据展示网站。</p>
<p>•基本要求：</p>
<p>•1、用户可注册登录网站，非注册用户不可登录查看数据</p>
<p>•2、用户注册、登录、查询等操作记入数据库中的日志</p>
<p>•3、爬虫数据查询结果列表支持分页和排序</p>
<p>•4、用Echarts或者D3实现3个以上的数据分析图表展示在网站中</p>
<p>•5、实现一个管理端界面，可以查看（查看用户的操作记录）和管理（停用启用）注册用户。</p>
<p>•扩展要求（非必须）：</p>
<p>•1、实现对爬虫数据中文分词的查询</p>
<p>•2、实现查询结果按照主题词打分的排序</p>
<p>•3、用Elastic Search+Kibana展示爬虫的数据结果</p>
<h2 id="二基本要求实现">二.基本要求实现</h2>
<h3 id="0准备工作">0.准备工作</h3>
<p>建立2个mysql表，保存 用户信息&amp;操作日志</p>
<p>特别注意：为了实现2.5中启用停用用户（就是封号），user表添加了valid字段，0表示可用，1表示不可用</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/userschema.JPG" alt=""></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/useractionschema.JPG" alt=""></p>
<p>准备配置文件 final_project_user\conf</p>
<h3 id="1用户可注册登录网站非注册用户不可登录查看数据">1、用户可注册登录网站，非注册用户不可登录查看数据</h3>
<p>•登录页和注册页：public/index.html</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8CHTML.JPG" alt=""></p>
<p>•登陆页和注册页路由:routes/users.js</p>
<p>注意这里除了判断密码是否正确还要判断改用户是否被封号（封号的实现具体见2.5）</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8Cjs.JPG" alt=""></p>
<p>•Session信息：app.js</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/session.JPG" alt=""></p>
<p>具体前端界面如下：</p>
<p>登录：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%99%BB%E5%BD%95.JPG" alt=""></p>
<p>登录错误：</p>
<p>用户不存在、密码错误、被封号都会导致无法登录</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E9%94%99%E8%AF%AF%E7%99%BB%E5%BD%95.JPG" alt=""></p>
<p>注册：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E6%B3%A8%E5%86%8C.JPG" alt=""></p>
<h3 id="2用户注册登录查询等操作记入数据库中的日志">2、用户注册、登录、查询等操作记入数据库中的日志</h3>
<p>•直接在app.js中，引入var logger = <strong>require</strong>(&lsquo;morgan’);</p>
<p>•借助中间件保存的信息</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E6%97%A5%E5%BF%97.JPG" alt=""></p>
<p>mysql中查询结果：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/useraction.JPG" alt=""></p>
<h3 id="3爬虫数据查询结果列表支持分页和排序">3、爬虫数据查询结果列表支持分页和排序</h3>
<p>数据的查询和布尔表达在期中时已经展示过这里略过，助教的实现逻辑和期中的实现大致相同。</p>
<p>使用了AngularJs分页的实现，前台一次性拿完所有数据，然后进行分页展示，分页功能包含：首页、下一页、上一页、尾页、以及自己填写序号的方式。</p>
<p>•分页的代码都是用angular写的 public/javascripts/news.js</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E5%88%86%E9%A1%B5.JPG" alt=""></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E5%88%86%E9%A1%B52.JPG" alt=""></p>
<p>•前端 public/search.html</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E5%88%86%E9%A1%B5%E5%89%8D%E7%AB%AF.JPG" alt=""></p>
<p>具体前端界面如下：</p>
<p>点击首页会回到第一页，尾页直接跳转最后一页，下图是使用跳转到页码自己输入页码的一个展示。</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E9%A1%B5%E7%A0%81.JPG" alt=""></p>
<p>点击左侧按钮可以将结果按照时间升降序排列（图示为降序）：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E9%99%8D%E5%BA%8F.JPG" alt=""></p>
<h3 id="4用echarts或者d3实现3个以上的数据分析图表展示在网站中">4、用Echarts或者D3实现3个以上的数据分析图表展示在网站中</h3>
<p>代码在routes/news.js</p>
<p>以柱状图代码为例其他见news.js</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E6%9F%B1%E7%8A%B6%E5%9B%BEjs.JPG" alt=""></p>
<p>具体前端界面如下：</p>
<p>折线图（各个时间新闻个数）：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E6%9F%B1%E7%8A%B6%E5%9B%BE.png" alt=""></p>
<p>饼状图（原来的图取了所有来源密密麻麻，这里修改相关sql语句用limit展示了新闻来源的前十名）：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E9%A5%BC%E7%8A%B6%E5%9B%BE.JPG" alt=""></p>
<p>折线图（查询了中国这个词出现次数）：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E6%8A%98%E7%BA%BF%E5%9B%BE.JPG" alt=""></p>
<p>词云（背景是爱心图案）：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E8%AF%8D%E4%BA%91.JPG" alt=""></p>
<h3 id="5实现一个管理端界面可以查看查看用户的操作记录和管理停用启用注册用户">5、实现一个管理端界面，可以查看（查看用户的操作记录）和管理（停用启用）注册用户。</h3>
<p>重新起一个express项目来作为管理端，需要在用户端界面输入对口令才能进入（本项目的口令是‘admin’）</p>
<p>利用了期中作业的mysql连接部分，代码详见final_project_admin/app.js以及final_project_admin\routes\index.js，前端详见final_project_admin\public\search.html</p>
<p>逻辑即通过按钮传参并执行user的sql语句，来修改user的valid字段，封号就修改为1，解封就修改为0</p>
<p>现在3000端口下侧输入口令admin</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%AE%A1%E7%90%86%E5%91%98%E5%85%A5%E5%8F%A3.png" alt=""></p>
<p>进入端口3001的管理页进行查询封禁解封操作：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%AE%A1%E7%90%86%E5%91%98.JPG" alt=""></p>
<p>点击封禁后：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E5%B0%81%E7%A6%812.JPG" alt=""></p>
<p>点击解封后：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%AE%A1%E7%90%86%E5%91%98%E8%A7%A3%E5%B0%81%E5%92%8C%E5%B0%81%E7%A6%81.JPG" alt=""></p>
<h2 id="三扩展要求的实现">三.扩展要求的实现</h2>
<p>以下的拓展要求都建立于elastic search工具之上，elastic工具可以同时实现分词，打分，及结果展示。</p>
<h3 id="0elastickibanalogstash的安装及介绍">0.elastic+kibana+logstash的安装及介绍</h3>
<p>先下载elastic，kibana，logstash并解压（Windows操作系统）</p>
<p>参见此博客<a href="https://www.cnblogs.com/lwc1st/p/9802070.html">Elasticsearch、Kibana Windows下环境搭建 - 刘大大。 - 博客园 (cnblogs.com)</a></p>
<p>在logstash新建mysql目录下新建脚本conf（需要mysqljava的jar包），运行脚本即可把数据读入elastic，具体参见博客<a href="https://blog.csdn.net/YKenan/article/details/105950230">自动将 MySQL 中的数据转入到 Elasticsearch 中 (logstash)_YKenan的博客-CSDN博客</a></p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/mysql%E6%95%B0%E6%8D%AE%E6%B7%BB%E5%8A%A0.JPG" alt=""></p>
<p>启动elastic，kibana后就可以利用elasticsearch head插件（谷歌浏览器就有）查看elastic中的数据</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/elastic%E6%8F%92%E4%BB%B6.JPG" alt=""></p>
<h3 id="1实现对爬虫数据中文分词的查询">1、实现对爬虫数据中文分词的查询</h3>
<p>elastic search自带分词工具，可以在kibana中查询但是默认的分词器结果不尽如人意</p>
<p>例如下图新冠肺炎分词变成了新、冠、肺、炎</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E5%88%86%E8%AF%8D.JPG" alt=""></p>
<p>可以参考此文章在es中安装中文分词插件来改善分词准确率https://www.cnblogs.com/haixiang/p/11810799.html</p>
<h3 id="2实现查询结果按照主题词打分的排序">2、实现查询结果按照主题词打分的排序</h3>
<p>elastic search会自动给主题词打分，我们可以用elastic search head查询关键词查看</p>
<p>已知的打分方式有tfidf和bm25两种，对于elastic search打分细节的介绍可参考此官方文档https://www.elastic.co/guide/cn/elasticsearch/guide/current/scoring-theory.html</p>
<p>可以看到elasticsearch返回值有打分字段：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E6%89%93%E5%88%86.JPG" alt=""></p>
<p>elastic search还支持人工干预打分的查询，比如下图查询肺炎，但如果有新冠关键词便会给分数加上两分（见左边查询语句）：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E6%95%B0.JPG" alt=""></p>
<h3 id="3用elastic-searchkibana展示爬虫的数据结果">3、用Elastic Search+Kibana展示爬虫的数据结果</h3>
<p>kibana的discover和dashboard都可以直接展示数据可视化的结果，以下展示几个例子：</p>
<p>discover界面：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/esdiscover.JPG" alt=""></p>
<p>新冠肺炎的各个时间出现次数条形图：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E6%A0%B9%E6%8D%AEfilter%E6%9F%A5%E8%AF%A2%E6%96%B0%E5%86%A0%E8%82%BA%E7%82%8E.JPG" alt=""></p>
<p>各个时间总新闻数条形图：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/esbar.JPG" alt=""></p>
<p>各个新闻来源比例饼状图：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/espie.JPG" alt=""></p>
<h2 id="四-js美化">四. js美化</h2>
<h3 id="1点击屏幕显示文字">1.点击屏幕显示文字</h3>
<p>HTML中插入以下代码</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&#34;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&#34;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span><span class="o">&gt;</span>
        <span class="kd">var</span> <span class="nx">a_idx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span><span class="nx">$</span><span class="p">(</span><span class="s2">&#34;body&#34;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s2">&#34;新闻&#34;</span><span class="p">,</span> <span class="s2">&#34;爬虫&#34;</span><span class="p">,</span><span class="s2">&#34;数据网站&#34;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">$i</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;&lt;span/&gt;&#34;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">a_idx</span><span class="p">]);</span>
        <span class="nx">a_idx</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageX</span><span class="p">,</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span><span class="p">;</span><span class="nx">$i</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="s2">&#34;z-index&#34;</span><span class="o">:</span> <span class="mi">100000000</span><span class="p">,</span><span class="s2">&#34;top&#34;</span><span class="o">:</span> <span class="nx">y</span> <span class="o">-</span> <span class="mi">20</span><span class="p">,</span><span class="s2">&#34;left&#34;</span><span class="o">:</span> <span class="nx">x</span><span class="p">,</span><span class="s2">&#34;position&#34;</span><span class="o">:</span> <span class="s2">&#34;absolute&#34;</span><span class="p">,</span><span class="s2">&#34;font-weight&#34;</span><span class="o">:</span> <span class="s2">&#34;bold&#34;</span><span class="p">,</span><span class="s2">&#34;color&#34;</span><span class="o">:</span> <span class="s2">&#34;#ff6651&#34;</span><span class="p">});</span><span class="nx">$</span><span class="p">(</span><span class="s2">&#34;body&#34;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$i</span><span class="p">);</span><span class="nx">$i</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span><span class="s2">&#34;top&#34;</span><span class="o">:</span> <span class="nx">y</span> <span class="o">-</span> <span class="mi">180</span><span class="p">,</span><span class="s2">&#34;opacity&#34;</span><span class="o">:</span> <span class="mi">0</span><span class="p">},</span><span class="mi">1500</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">$i</span><span class="p">.</span><span class="nx">remove</span><span class="p">();});});});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div><p>得到以下效果：</p>
<p>点击页面任意地方会随机弹出小字，这里弹出新闻、爬虫、数据网站的橙色小字</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/js%E6%95%88%E6%9E%9C.png" alt=""></p>
<h3 id="2博客动态背景效果">2.博客动态背景效果</h3>
<p>HTML中插入以下代码</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="o">!</span>
<span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">e</span><span class="p">,</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">||</span> <span class="nx">t</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">t</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">e</span><span class="p">(</span><span class="s2">&#34;script&#34;</span><span class="p">),</span>
        <span class="nx">o</span> <span class="o">=</span> <span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
        <span class="nx">i</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="nx">o</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">l</span><span class="o">:</span> <span class="nx">o</span><span class="p">,</span>
            <span class="nx">z</span><span class="o">:</span> <span class="nx">n</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s2">&#34;zIndex&#34;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
            <span class="nx">o</span><span class="o">:</span> <span class="nx">n</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s2">&#34;opacity&#34;</span><span class="p">,</span> <span class="p">.</span><span class="mi">5</span><span class="p">),</span>
            <span class="nx">c</span><span class="o">:</span> <span class="nx">n</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s2">&#34;color&#34;</span><span class="p">,</span> <span class="s2">&#34;0,0,0&#34;</span><span class="p">),</span>
            <span class="nx">n</span><span class="o">:</span> <span class="nx">n</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s2">&#34;count&#34;</span><span class="p">,</span> <span class="mi">99</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">o</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">a</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">,</span>
        <span class="nx">c</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientHeight</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">clientHeight</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">i</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">r</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">c</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">e</span><span class="p">,</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">o</span><span class="p">,</span> <span class="nx">m</span><span class="p">,</span> <span class="nx">l</span><span class="p">;</span>
        <span class="nx">s</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">xa</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">ya</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">xa</span> <span class="o">*=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">a</span> <span class="o">||</span> <span class="nx">i</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">ya</span> <span class="o">*=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="nx">c</span> <span class="o">||</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="p">.</span><span class="mi">5</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="p">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="nx">e</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">e</span> <span class="o">&lt;</span> <span class="nx">u</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">e</span><span class="o">++</span><span class="p">)</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">u</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span>
            <span class="kc">null</span> <span class="o">!==</span> <span class="nx">n</span><span class="p">.</span><span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="kc">null</span> <span class="o">!==</span> <span class="nx">n</span><span class="p">.</span><span class="nx">y</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">o</span> <span class="o">=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">n</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">n</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">o</span> <span class="o">*</span> <span class="nx">o</span> <span class="o">+</span> <span class="nx">m</span> <span class="o">*</span> <span class="nx">m</span><span class="p">,</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">.</span><span class="nx">max</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="nx">y</span> <span class="o">&amp;&amp;</span> <span class="nx">l</span> <span class="o">&gt;=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">max</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span> <span class="o">-=</span> <span class="p">.</span><span class="mi">03</span> <span class="o">*</span> <span class="nx">o</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span> <span class="o">-=</span> <span class="p">.</span><span class="mi">03</span> <span class="o">*</span> <span class="nx">m</span><span class="p">),</span> <span class="nx">t</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">l</span><span class="p">)</span> <span class="o">/</span> <span class="nx">n</span><span class="p">.</span><span class="nx">max</span><span class="p">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">(),</span> <span class="nx">r</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="nx">t</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s2">&#34;rgba(&#34;</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">c</span> <span class="o">+</span> <span class="s2">&#34;,&#34;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">t</span> <span class="o">+</span> <span class="p">.</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&#34;)&#34;</span><span class="p">,</span> <span class="nx">r</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span> <span class="nx">r</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">n</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span> <span class="nx">r</span><span class="p">.</span><span class="nx">stroke</span><span class="p">()))</span>
        <span class="p">}),</span>
        <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">u</span><span class="p">,</span> <span class="nx">m</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;canvas&#34;</span><span class="p">),</span>
    <span class="nx">d</span> <span class="o">=</span> <span class="nx">t</span><span class="p">(),</span>
    <span class="nx">l</span> <span class="o">=</span> <span class="s2">&#34;c_n&#34;</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">l</span><span class="p">,</span>
    <span class="nx">r</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">&#34;2d&#34;</span><span class="p">),</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">requestAnimationFrame</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webkitRequestAnimationFrame</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">mozRequestAnimationFrame</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">oRequestAnimationFrame</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">msRequestAnimationFrame</span> <span class="o">||</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="mf">1e3</span> <span class="o">/</span> <span class="mi">45</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">w</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">,</span>
    <span class="nx">y</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">x</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nx">y</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nx">max</span><span class="o">:</span> <span class="mf">2e4</span>
    <span class="p">};</span>
    <span class="nx">m</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">l</span><span class="p">,</span>
    <span class="nx">m</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="s2">&#34;position:fixed;top:0;left:0;z-index:&#34;</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">z</span> <span class="o">+</span> <span class="s2">&#34;;opacity:&#34;</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">o</span><span class="p">,</span>
    <span class="nx">e</span><span class="p">(</span><span class="s2">&#34;body&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">m</span><span class="p">),</span>
    <span class="nx">o</span><span class="p">(),</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onresize</span> <span class="o">=</span> <span class="nx">o</span><span class="p">,</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">,</span>
        <span class="nx">y</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span>
        <span class="nx">y</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">clientY</span>
    <span class="p">},</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onmouseout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">y</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nx">y</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="kc">null</span>
    <span class="p">};</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">f</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">f</span><span class="p">;</span> <span class="nx">f</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">w</span><span class="p">()</span> <span class="o">*</span> <span class="nx">a</span><span class="p">,</span>
        <span class="nx">g</span> <span class="o">=</span> <span class="nx">w</span><span class="p">()</span> <span class="o">*</span> <span class="nx">c</span><span class="p">,</span>
        <span class="nx">v</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">w</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">p</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">w</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">s</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
            <span class="nx">x</span><span class="o">:</span> <span class="nx">h</span><span class="p">,</span>
            <span class="nx">y</span><span class="o">:</span> <span class="nx">g</span><span class="p">,</span>
            <span class="nx">xa</span><span class="o">:</span> <span class="nx">v</span><span class="p">,</span>
            <span class="nx">ya</span><span class="o">:</span> <span class="nx">p</span><span class="p">,</span>
            <span class="nx">max</span><span class="o">:</span> <span class="mf">6e3</span>
        <span class="p">})</span>
    <span class="p">}</span>
    <span class="nx">u</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">concat</span><span class="p">([</span><span class="nx">y</span><span class="p">]),</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">i</span><span class="p">()</span>
    <span class="p">},</span>
    <span class="mi">100</span><span class="p">)</span>
<span class="p">}</span> <span class="p">();</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div><p>得到以下效果：</p>
<p>鼠标会吸附漂浮的线条</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/js%E6%95%88%E6%9E%9C%E9%BC%A0%E6%A0%87%E8%B7%9F%E9%9A%8F.JPG" alt=""></p>
<h2 id="五运行展示">五.运行展示</h2>
<p>项目分user和admin两个express项目，需要同时运行，分别运行在3000端口和3001端口，本节再次完整按照正常顺序展示一个已注册且未被封号的用户使用本项目的流程和管理员管理用户流程。</p>
<p>用户版本：</p>
<p>登录：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%99%BB%E5%BD%95.JPG" alt=""></p>
<p>查询：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E5%B8%83%E5%B0%94%E6%9F%A5%E8%AF%A2.JPG" alt=""></p>
<p>查看图表：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E9%A5%BC%E7%8A%B6%E5%9B%BE.JPG" alt=""></p>
<p>管理员版本：</p>
<p>输入管理员口令进入管理员端：</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%AE%A1%E7%90%86%E5%91%98%E5%85%A5%E5%8F%A3.png" alt=""></p>
<p>进行查询/封禁/解封操作:</p>
<p><img src="/img/%E6%88%AA%E5%9B%BE/%E7%AE%A1%E7%90%86%E5%91%98.JPG" alt=""></p>
<h2 id="六总结">六.总结</h2>
<p>本项目的user端基于助教的参考版本上修改而成以及修缮补全了一些功能（比如分页方式的补充，和），admin端延续了期中作业的一些代码。基本要求全部实现，包括注册登录、操作记入日志、爬虫数据查询结果列表支持分页和排序、用Echarts实现3个以上的数据分析图表展示、管理端界面查看管理注册用户。扩展要求的实现主要体验了elastic+kibana+logstash的配合使用，分词和打分基于了elastic search进行了尝试，最后也是通过elastic+kibana的可视化界面展示了爬虫的数据结果。此外两个项目的部分前端css进行了修改，格外添加了两个js美化控件。后续还可以尝试将elastic+kibana查询的数据重定向到助教项目的版本中实现融合。最后感谢老师和助教这一学期的教导和帮助，两次作业对我前端的理解和掌握有很大的帮助！</p>

    
	</div>
  <footer class="article-footer clearfix">
  

<div class="article-tags">
  <span></span>
  
  <a href="https://qkgoalkeeper.github.io/tags/javascript">JavaScript</a>
  
</div>





<div class="article-categories">
  <span></span>
  
  <a class="article-category-link" href="https://qkgoalkeeper.github.io/categories/%E5%A4%A7%E4%B8%89%E4%B8%8Bweb%E7%BC%96%E7%A8%8B%E8%AF%BE%E7%A8%8B">大三下web编程课程</a>
  
</div>



  <div class="article-share" id="share">
    <div data-url="https://qkgoalkeeper.github.io/post/web%E7%BC%96%E7%A8%8B%E6%9C%9F%E6%9C%AB%E5%A4%A7%E4%BD%9C%E4%B8%9A/" data-title="Web编程期末大作业" data-tsina="5852167252" class="share clearfix">
    </div>
  </div>
</footer>

	</article>
  



</div>

    <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>
<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">
  

<div class="categorieslist">
  <p class="asidetitle">分类</p>
  <ul>
    
    <li><a href="https://qkgoalkeeper.github.io/categories/leetcode%e7%ae%80%e5%8d%95%e9%a2%981-100" title="leetcode简单题1-100">leetcode简单题1-100<sup>21</sup></a></li>
    
    <li><a href="https://qkgoalkeeper.github.io/categories/leetcode%e7%ae%80%e5%8d%95%e9%a2%98101-200" title="leetcode简单题101-200">leetcode简单题101-200<sup>25</sup></a></li>
    
    <li><a href="https://qkgoalkeeper.github.io/categories/leetcode%e7%ae%80%e5%8d%95%e9%a2%98201-300" title="leetcode简单题201-300">leetcode简单题201-300<sup>24</sup></a></li>
    
    <li><a href="https://qkgoalkeeper.github.io/categories/%e5%a4%a7%e4%b8%89%e4%b8%8a%e6%95%b0%e6%8d%ae%e5%ba%93%e8%af%be%e7%a8%8b" title="大三上数据库课程">大三上数据库课程<sup>1</sup></a></li>
    
    <li><a href="https://qkgoalkeeper.github.io/categories/%e5%a4%a7%e4%b8%89%e4%b8%8bweb%e7%bc%96%e7%a8%8b%e8%af%be%e7%a8%8b" title="大三下web编程课程">大三下web编程课程<sup>2</sup></a></li>
    
    <li><a href="https://qkgoalkeeper.github.io/categories/%e5%a4%a7%e5%9b%9bleetcode%e7%ae%97%e6%b3%95%e5%88%b7%e9%a2%98" title="大四leetcode算法刷题">大四leetcode算法刷题<sup>72</sup></a></li>
    
  </ul>
</div>



  

<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
      
			<li><a href="https://qkgoalkeeper.github.io/tags/c&#43;&#43;" title="c&#43;&#43;">c&#43;&#43;<sup>72</sup></a></li>
      
			<li><a href="https://qkgoalkeeper.github.io/tags/javascript" title="javascript">javascript<sup>2</sup></a></li>
      
			<li><a href="https://qkgoalkeeper.github.io/tags/leetcode" title="leetcode">leetcode<sup>142</sup></a></li>
      
			<li><a href="https://qkgoalkeeper.github.io/tags/%e6%95%b0%e6%8d%ae%e5%ba%93" title="数据库">数据库<sup>1</sup></a></li>
      
		</ul>
</div>



  
  <div class="archiveslist">
    <p class="asidetitle">归档</p>
    <ul class="archive-list">
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2021-12">2021年12月</a><span class="archive-list-count">6</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2021-11">2021年11月</a><span class="archive-list-count">30</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2021-10">2021年10月</a><span class="archive-list-count">31</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2021-09">2021年09月</a><span class="archive-list-count">5</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2021-06">2021年06月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2021-04">2021年04月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2020-11">2020年11月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="https://qkgoalkeeper.github.io/post/#2020-08">2020年08月</a><span class="archive-list-count">70</span>
      </li>
      
    </ul>

  </div>


  

<div class="tagcloudlist">
  <p class="asidetitle">标签云</p>
  <div class="tagcloudlist clearfix">
    
    <a href="https://qkgoalkeeper.github.io/tags/c&#43;&#43;" style="font-size: 12px;">c&#43;&#43;</a>
    
    <a href="https://qkgoalkeeper.github.io/tags/javascript" style="font-size: 12px;">javascript</a>
    
    <a href="https://qkgoalkeeper.github.io/tags/leetcode" style="font-size: 12px;">leetcode</a>
    
    <a href="https://qkgoalkeeper.github.io/tags/%e6%95%b0%e6%8d%ae%e5%ba%93" style="font-size: 12px;">数据库</a>
    
  </div>
</div>



  

</aside>
</div>

  </div>
  <footer><div id="footer" >
  <div class="line">
    <span></span>
    
    <div style='background:no-repeat url("https://qkgoalkeeper.github.io/img/author.jpg") left top;-webkit-background-size:6.875em 6.875em;-moz-background-size:6.875em 6.875em;background-size:6.875em 6.875em;' class="author" ></div>
  </div>
  <section class="info">
    <p>ECNU数据学院本科在读 <br/> 知乎主页 :https://www.zhihu.com/people/hao-lai-wu-shou-men-yuan <br/>QQ :1421812601</p>
  </section>
  <div class="social-font clearfix">
    <a href='http://weibo.com/qkgoalkeeper' target="_blank" title="weibo"></a>
    <a href='https://twitter.com/coderzh' target="_blank" title="twitter"></a>
    <a href='https://github.com/qkgoalkeeper' target="_blank" title="github"></a>
    <a href='https://www.facebook.com/coderzh' target="_blank" title="facebook"></a>
    <a href='https://www.linkedin.com/coderzh' target="_blank" title="linkedin"></a>
  </div>
  <p class="copyright">Powered by <a href="http://gohugo.io" target="_blank" title="hugo">hugo</a> and Theme by <a href="https://github.com/coderzh/hugo-pacman-theme" target="_blank" title="hugo-pacman-theme">hugo-pacman-theme</a> © 2021
    
    <a href="https://qkgoalkeeper.github.io/" title="qkgoalkeeper&#39;s blog">qkgoalkeeper&#39;s blog</a>
    
  </p>
</div>
</footer>
  <script src="https://qkgoalkeeper.github.io/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
done = false;
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  $('form.search').on('submit', function (event) {
    if (false === done) {
      event.preventDefault();
      var orgVal = $(this).find('#search').val();
      $(this).find('#search').val('site:https:\/\/qkgoalkeeper.github.io\/ ' + orgVal);
      done = true;
      $(this).submit();
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://b.bshare.cn/barCode?site=weixin&url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});
</script>


<link rel="stylesheet" href="https://qkgoalkeeper.github.io/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="https://qkgoalkeeper.github.io/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>




</body>
</html>
